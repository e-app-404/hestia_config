---
id: prompt_20250527_001
slug: batch3-prompt-20250527-001
title: Batch3 Prompt 20250527 001
date: '2025-10-01'
tier: "α"
domain: validation
persona: promachos
status: candidate
tags: []
version: '1.0'
source_path: batch 3/batch3-prompt_20250527_001.md
author: Unknown
related: []
last_updated: '2025-10-09T02:33:25.143466'
redaction_log: []
---

### 📦 `prompt_20250527_001`

**Tier**: β
**Domain**: phase\_dependency
**Type**: structured
**Status**: candidate
**Title**: Verify Phase Dependency Chain
**Prompt**:

> “Which Mnemosyne phases depend on the output of others?
> Validate whether the `manifest` phase requires prior execution of `tree`, `snapshot`, or any other.
> Output a dependency graph, indicate required order, and flag missing dependency checks.”
> **Why**: Prevent broken execution sequences by validating phase interlocks.
> **Output**: Graph + compliance table
> **Follow-up**: 2 questions on soft vs hard dependencies

---

### 📦 `prompt_20250527_002`

**Tier**: β
**Domain**: variable\_scope
**Type**: structured
**Status**: candidate
**Title**: Detect Cross-Phase Variable Leakage
**Prompt**:

> “Do any Mnemosyne scripts use variables (`SNAPSHOT_ID`, `PHASE`, etc.)
> that are **not declared locally** or passed explicitly?
> Identify undeclared-but-used variables and trace their propagation between scripts.”
> **Why**: Avoid hidden dependencies that lead to runtime bugs
> **Output**: Table with `var_name`, `source`, `used_by`, `passed_explicitly`
> **Follow-up**: Recommend exports or refactors

---

### 📦 `prompt_20250527_003`

**Tier**: β
**Domain**: logging\_error
**Type**: structured
**Status**: candidate
**Title**: Audit Log and Error Reporting Consistency
**Prompt**:

> “Check if all Mnemosyne phases and utilities use consistent `log_info`, `log_error`, etc.
> Are exit codes standardized? Do failure paths log helpful diagnostics?”
> **Why**: Ensure reliable troubleshooting in HA environments
> **Output**: Coverage table + example error paths
> **Follow-up**: Recommend standard templates if missing

---

### 📦 `prompt_20250527_004`

**Tier**: β
**Domain**: metadata\_schema
**Type**: structured
**Status**: candidate
**Title**: Validate Metadata JSON Output Compliance
**Prompt**:

> “Do all phases emit `metadata.json` in the expected format?
> Check for required keys: `phase`, `exit_code`, `executed_at`, `snapshot_id`.
> Flag inconsistencies or omissions.”
> **Why**: Required for downstream systems and audit trail integrity
> **Output**: Per-phase JSON schema compliance table
> **Follow-up**: Recommend patch content for noncompliant phases

---

### 📦 `prompt_20250527_005`

**Tier**: β
**Domain**: shell\_compatibility
**Type**: structured
**Status**: candidate
**Title**: Detect Bashisms and POSIX Incompatibilities
**Prompt**:

> “Is `mnemosyne.sh` POSIX-compatible or Bash-only?
> Identify usage of Bash-only features (e.g. associative arrays, `[[ ]]`, heredocs).
> Suggest fallback or validation warnings.”
> **Why**: Ensure portability to restricted environments
> **Output**: Compatibility matrix
> **Follow-up**: Suggest shell detection block if not present

---

### 📦 `prompt_20250527_006`

**Tier**: β
**Domain**: ha\_integration
**Type**: structured
**Status**: candidate
**Title**: Audit HA Configuration and Shell Command Mapping
**Prompt**:

> “For each shell\_command in `configuration.yaml`,
> check if the referenced Mnemosyne command exists, executes correctly, and logs as expected.”
> **Why**: Prevent dead automations or command failures in Home Assistant
> **Output**: `yaml_entry` → `command_path` → `validation_status`
> **Follow-up**: Auto-generate test scripts for each mapping

---

### 📦 `prompt_20250527_007`

**Tier**: β
**Domain**: security\_review
**Type**: structured
**Status**: candidate
**Title**: Detect Dangerous Shell Constructs
**Prompt**:

> “Scan Mnemosyne for dangerous constructs like `eval`, `bash -c`, or unsanitized user input.
> Check if user-provided data (e.g. `snapshot_id`) is safely handled.”
> **Why**: Minimize attack surface in HA-integrated shell commands
> **Output**: Annotated risk list
> **Follow-up**: Suggest hardened input validation wrappers

---

### 📦 `prompt_20250527_008`

**Tier**: β
**Domain**: stress\_readiness
**Type**: structured
**Status**: candidate
**Title**: Evaluate Stress and Scalability Readiness
**Prompt**:

> “Simulate high-load environments:
>
> * 1000s of files
> * 50MB+ archives
> * multiple concurrent snapshots
> * flaky git networks
>   Can Mnemosyne handle it? Which phases degrade?”
>   **Why**: Validate readiness for production scale
>   **Output**: Performance bottleneck map
>   **Follow-up**: Suggest async or retry wrappers where needed

---

