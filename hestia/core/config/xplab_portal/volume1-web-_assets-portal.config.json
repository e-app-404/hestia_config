{
  "meta": { "title": "xplab Portal", "version": 1 },
  "appearance": {
    "theme": "auto",
    "haThemeEntity": "input_select.portal_theme",
    "presenceEntity": "binary_sensor.house_occupied"
  },
  "grafana": {
    "panelUrl": "/grafana/d/replace_me/dashboard?orgId=1&kiosk=tv&from=now-6h&to=now&refresh=10s&theme=dark"
  },
  "sections": [
    {
      "id": "nav",
      "title": "Shortcuts",
      "tiles": [
        { "label": "DSM", "href": "/", "icon": "nas", "visibility": "private", "desc": "Synology DSM UI" },
        { "label": "Home Assistant", "href": "/ha/", "icon": "ha", "visibility": "private", "desc": "Smart home controller" },
        { "label": "Grafana", "href": "/grafana/", "icon": "grafana", "visibility": "private", "desc": "Dashboards" },
        { "label": "Plex", "href": "https://app.plex.tv", "icon": "plex", "visibility": "public", "desc": "Media streaming" },
        { "label": "Jellyfin", "href": "https://your-jellyfin.example", "icon": "jellyfin", "visibility": "private", "desc": "Alt media" },
        { "label": "Tailscale Admin", "href": "https://login.tailscale.com/admin/machines", "icon": "tailscale", "visibility": "tailscaleOnly", "desc": "Tailnet devices" },
        { "label": "Nodeâ€‘RED", "href": "/node-red/", "icon": "node", "visibility": "private", "desc": "Flows" },
        { "label": "Files", "href": "/filebrowser/", "icon": "files", "visibility": "private", "desc": "Web file access" }
      ]
    },
    {
      "id": "status",
      "title": "Live Status",
      "widgets": [
        { "type": "badge", "label": "Tailscale", "source": "/ha/api/states/binary_sensor.tailscale_ok", "visibility": "private" },
        { "type": "badge", "label": "Cloudflare Tunnel", "source": "/ha/api/states/binary_sensor.cloudflare_tunnel_ok", "visibility": "private" },
        { "type": "badge", "label": "NAS Health", "source": "/ha/api/states/binary_sensor.nas_health_ok", "visibility": "private" }
      ]
    }
  ],
  "rules": {
    "privatePaths": ["/portal"],
    "tailscaleCIDRs": ["100.64.0.0/10"]
  }
}
