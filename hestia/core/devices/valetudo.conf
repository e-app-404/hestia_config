# ═══════════════════════════════════════════════════════════════
# ▶ VALETUDO CONFIGURATION ◀
# Robot vacuum specs, backend/mqtt settings, and map integration
# File: valetudo.config.yaml
# Domain: cleaning  •  Generated: 2025-08-05
# ═══════════════════════════════════════════════════════════════
valetudo:
  _meta:
    title: "Valetudo Configuration"
    created: "2025-08-05T12:00:00Z"
    last_updated: "2025-08-05T12:00:00Z"
    purpose: "Configuration for Valetudo robot vacuum integration with Home Assistant."
    version: "1.0"
  dependency_version:
    execpath: /usr/local/bin/valetudo
    execargv: --expose-gc --max-heap-size=42
    node: 20.10.0-Valetudo
    acorn: 8.10.0
    ada: 2.7.2
    ares: 1.20.1
    base64: 0.5.0
    brotli: 1.0.9
    cjs_module_lexer: 1.2.2
    llhttp: 8.1.1
    modules: "115"
    napi: "9"
    nghttp2: 1.57.0
    nghttp3: 0.7.0
    ngtcp2: 0.8.1
    openssl: 3.0.12+quic
    simdutf: 3.2.18
    undici: 5.26.4
    uv: 1.46.0
    uvwasi: 0.0.19
    v8: 11.3.244.8-node.25
    zlib: 1.2.13.1-motley
    pkg: 5.11.0

  environment_key-value_pairs:
    crash_ignore_min: "600"
    home: /
    hwdog_option: "1"
    ld_library_path: /lib:/lib/arm-linux-gnueabihf:/usr/lib:usr/lib/arm-linux-gnueabihf:/opt/rockrobo/cleaner/lib:/mnt/default
    miio_recv_line: miio_recv_line
    miio_send_line: miio_send_line
    nav_config_path: /opt/rockrobo/cleaner/conf
    nav_dynamic_config_path: /mnt/data/rockrobo
    nav_log_path: /mnt/data/rockrobo
    path: /bin:/usr/bin:/sbin:/usr/sbin:/opt/rockrobo/rrlog:/opt/rockrobo/cleaner/bin:/opt/rockrobo/wlan:/opt/rockrobo/watchdog:/opt/rockrobo/miio:/opt/rockrobo/firmware:/opt/rockrobo/rriot
    pwd: /
    rr_default: /mnt/default
    rr_reserve: /mnt/reserve
    rr_root: /opt/rockrobo
    rr_udata: /mnt/data
    shell: /bin/sh
    shlvl: "2"
    term: vt102
    updpkg_dir: /mnt/data/.temp
    updpkg_info_name: Update.pkg.inf
    updpkg_info_path: /mnt/data/.temp
    user: root
    valetudo_config_path: /mnt/data/valetudo_config.json
    wifi_conf_name: wifi.conf
    wifi_conf_path: /mnt/data/miio
    wifi_enable_name: wifi_enable.conf
    wifi_enable_path: /mnt/data/wlan
    wifi_start_name: wifi_start.sh
    wifi_start_path: /opt/rockrobo/wlan
    boot_fs: a
    boot_reason: "0x69617070"
    boot_ver: 2011.09-rc1-dirty
    location: en
    partitions: boot-res@mmcblk0p2:env@mmcblk0p5:app@mmcblk0p6:recovery@mmcblk0p7:system_a@mmcblk0p8:system_b@mmcblk0p9:Download@mmcblk0p10:reserve@mmcblk0p11:UDISK@mmcblk0p1

  mqtt_connectivity:
    host: 192.168.0.129
    port: "1883"
    username: valetudo
    password: valetudo
    integrations: homeassistant
    topic_prefix: Valetudo
    identifier: RoboRockS5
    provide_map_data: enabled
    consumablemonitoringcapability: exposed
    carpetmodecontrolcapability: exposed
    speakervolumecontrolcapability: exposed
    totalstatisticscapability: exposed
    currentstatisticscapability: exposed
    client_certificate: disabled
    tls: disabled

  robot:
    manufacturer: RoboRock
    model: "S5 "
    firmware_version: "002034"
    valetudo_implementation: RoborockS5ValetudoRobot

  runtime_information:
    valetudo_uptime: 0d 17h 42m 05s
    uid: "0"
    gid: "0"
    pid: "366"
    argv: /usr/local/bin/valetudo /snapshot/Valetudo/backend/index.js

  system_host_information:
    hostname: rockrobo
    arch: arm
    uptime: 0d 17h 45m 03s

  valetudo:
    release: 2025.01.0
    commit: e27f175e5990daf627b45256714b319e8525a5fb
    embedded: "true"
    system_id: MistyProfitableBadger

  valetudo_options:
    custom_friendly_name: RoboRockS5
    update_channel: Release

  wifi_connectivity:
    ssid: Router? I barely know her!
    wifi_signal_strength: -54 dBm
    ip: 192.168.0.82
    ipv4: 192.168.0.82
    ipv6: fe80::7e49:ebff:fe9a:3515

home_assistant_components:
  sensors:
    - sensor.living_room_days_since_last_cleaned
    - sensor.kitchen_days_since_last_cleaned
    - sensor.powder_room_days_since_last_cleaned
    - sensor.downstairs_hallway_days_since_last_cleaned
    - sensor.laundry_room_days_since_last_cleaned
    - sensor.downstairs_cleaning_schedule_status
    # Add more valetudo-related sensors as needed
  binary_sensors: [] # No valetudo-specific binary_sensors defined in package
  helpers:
    - input_datetime.living_room_last_cleaned
    - input_datetime.kitchen_last_cleaned
    - input_datetime.powder_room_last_cleaned
    - input_datetime.downstairs_hallway_last_cleaned
    - input_datetime.laundry_room_last_cleaned
    - input_datetime.cleaning_job_last_run
    - input_boolean.living_room_needs_cleaning
    - input_boolean.kitchen_needs_cleaning
    - input_boolean.powder_room_needs_cleaning
    - input_boolean.downstairs_hallway_needs_cleaning
    - input_boolean.laundry_room_needs_cleaning
    - input_boolean.downstairs_cleaning_success
  automations:
    - automation.run_downstairs_cleaning_job_daily
    - automation.initialize_last_cleaned_helpers
    - automation.valetudo_error_notification
    - automation.downstairs_cleaning_daily_report
    - automation.flag_living_room_needs_cleaning_after_activity
    - automation.flag_kitchen_needs_cleaning_after_activity
    - automation.flag_powder_room_needs_cleaning_after_activity
    - automation.flag_downstairs_hallway_needs_cleaning_after_activity
    - automation.flag_laundry_room_needs_cleaning_after_activity
    - automation.flag_living_room_needs_cleaning_after_x_days
    - automation.flag_kitchen_needs_cleaning_after_x_days
    - automation.flag_powder_room_needs_cleaning_after_x_days
    - automation.flag_downstairs_hallway_needs_cleaning_after_x_days
    - automation.flag_laundry_room_needs_cleaning_after_x_days
  scripts:
    - script.valetudo_living_room_clean
    - script.valetudo_kitchen_clean
    - script.valetudo_powder_room_clean
    - script.valetudo_hallway_clean
    - script.valetudo_laundry_room_clean
    - script.cleaning_job_downstairs
