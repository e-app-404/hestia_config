# Governance Index (autogenerated)

_Generated (UTC): 2025-10-15T12:17:52_

## Index Statistics
**Total ADRs**: 28
**Active ADRs**: 25
**Deprecated ADRs**: 3

**By Status**:
- **Accepted**: 21
- **Draft**: 1
- **Pending**: 1
- **Proposed**: 2
- **Superseded**: 3

## Critical Governance Rules

**AI agents and tools must honor these hot rules:**

- ADR-0024: Single canonical config mount → `/config` only; no dual SMB mounts.
- ADR-0022: Mount management via LaunchAgent; preflight before writes.
- ADR-0018: Workspace lifecycle policies with backup patterns and hygiene.
- Path contracts: prefer container paths over host aliases; avoid `/Volumes/...` in tooling.

---

## ADR Catalog

### Active ADRs

- **ADR-0022: Home Assistant Mount Keychain Credentials and Telemetry System** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0022-hass-mount-keychain-creds-telemetry.md`
  Date: 2025-10-04
  Decision: (see file)
  References: ADR-0009, ADR-0022

- **Canonical Home Assistant Config Path (Single-Source-of-Truth)** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0024-canonical-config-path.md`
  Date: 2025-10-05
  Decision: * Keep **`homeassistant.local` → `/config`** as the **only** writable config mount. * **Block** automatic mounts of the Tailscale host to `/Volumes/HA/{config,share,addons}` in normal operation. * All...
  References: ADR-0010, ADR-0012, ADR-0014, ADR-0015, ADR-0016, ADR-0018, ADR-0019, ADR-0022, ADR-0024, ADR-0027
  Supersedes: ADR-0016
  Superseded by: ADR-0024

- **File Writing Governance and Path Enforcement System** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0027-file-writing-governance.md`
  Date: 2025-10-12
  Decision: Implement a comprehensive three-layer file writing governance system:
  References: ADR-0008, ADR-0009, ADR-0018, ADR-0024, ADR-0027

- **Motion, Occupancy, and Presence Signal Architecture (beta abstractions)** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0021-motion-occupancy-presence-signals.md`
  Date: 2025-10-03
  Decision: (see file)
  References: ADR-0021

- **Operator Priority Resolution for Workspace Merge Conflicts** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0023-operator-priority-merge-resolution.md`
  Date: 2025-10-04
  Decision: (see file)
  References: ADR-0012, ADR-0013, ADR-0016, ADR-0019, ADR-0023

- **Workspace Operations & Environment Management** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0026-workspace-environment-ops.md`
  Date: 2025-10-06
  Decision: (see file)
  References: ADR-0009, ADR-0024, ADR-0026, ADR-0030

- **ADR Governance, Redaction, and Formatting Policy** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0009-adr-governance-formatting.md`
  Date: 2025-09-13
  Decision: (see file)
  References: ADR-0001, ADR-0004, ADR-0008, ADR-0009, ADR-0017, ADR-0018

- **Canonical Area Hierarchy & Spatial Relationship Contract** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0004-area-hierarchy.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0004, ADR-0021

- **Canonical Tier Definitions for Home Assistant Entity Architecture** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0003-tier-definitions.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0003

- **Decay and Propagation Logic Contract** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0006-decay-propagation.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0006

- **Entity Registry, Sensor Matrix, Logic Path Index, and Signal Emitters Contract** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0005-entity-sensor-logic-signal.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0005

- **Home Assistant Configuration Error Canonicalization** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0020-ha-config-error-canonicalization.md`
  Date: 2025-09-30
  Decision: Create a systematic approach to configuration error management with three components:
  References: ADR-0002, ADR-0009, ADR-0016, ADR-0020

- **Home Assistant Jinja Pattern Normalization** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0002-jinja-patterns.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0002

- **Meta/Governance Patterns and Schema Definitions Contract** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0007-meta-governance-schema.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0007

- **OOM Mitigation & Recorder Policy** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0014-oom-and-recorder-policy.md`
  Date: 2025-09-18
  Decision: Adopt a **single, canonical recorder configuration** with short retention and strict excludes, enforce **OOM sentinel**, and implement **repo-level guardrails** to make the policy machine-checkable.
  References: ADR-0010, ADR-0012, ADR-0014

- **Remote Topology & Mirror Policy (GitHub ⇄ NAS ⇄ Local)** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0019-remote-topology-mirror-policy.md`
  Date: 2025-09-28
  Decision: 1) **Source of truth** = `github/main`. 2) **NAS mirror** is **pull-only** (no dev pushes). It is updated by **fetching from GitHub**, not by direct developer force-pushes. 3) All risky ref moves (for...
  References: ADR-0015, ADR-0017, ADR-0018, ADR-0019, ADR-0023

- **Source→Core Config Merge via extracted_config (Meta-Capture Pipeline)** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0013-extracted-config-merge.md`
  Date: 2025-09-20
  Decision: (see file)
  References: ADR-0007, ADR-0008, ADR-0009, ADR-0010, ADR-0013, ADR-0016

- **Switch Modeling & Validation (Netgear GS724T v3 and Similar)** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0011-switch-modeling-and-validation.md`
  Date: 2025-09-12
  Decision: Adopt a canonical **Switch Model** with deterministic artifacts and strict validation. Treat the Netgear backup as the source of truth, transformed into normalized outputs: 1. `switch.conf` — human-re...
  References: ADR-0008, ADR-0011

- **Symlink Policy for Hestia Config Workspace** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0015-symlink-policy-workspace.md`
  Date: 2025-09-21
  Decision: (see file)
  References: ADR-0001, ADR-0004, ADR-0008, ADR-0009, ADR-0010, ADR-0012, ADR-0013, ADR-0014, ADR-0015, ADR-0016

- **Syntax-Aware Normalization & Determinism Rules for Config Artifacts** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0008-normalization-and-determinism-rules.md`
  Date: 2025-09-12
  Decision: Adopt a **syntax-aware** normalization profile and a **deterministic packaging** process that together guarantee: 1. Byte-stable outputs for identical inputs, 2. Minimal diffs (whitespace and ordering...
  References: ADR-0001, ADR-0008, ADR-0013

- **Templated TTS YAML Snippet** _Accepted_
  `/config/hestia/library/docs/ADR/ADR-0001-tts-yaml.md`
  Date: 2025-09-11
  Decision: (see file)
  References: ADR-0001

### Proposed ADRs

- **AppDaemon & Room-DB Canonicalization (Endpoints, Entities, SQL Migration)** _Proposed_
  `/config/hestia/library/docs/ADR/ADR-0028-appdaemon-room-db-sql-migration.md`
  Date: 2025-10-12
  Decision: (see file)
  References: ADR-0008, ADR-0009, ADR-0018, ADR-0019, ADR-0024, ADR-0027, ADR-0028

- **Workspace hygiene, lifecycle & quarantine policy** _Proposed_
  `/config/hestia/library/docs/ADR/ADR-0018-workspace-lifecycle-policy.md`
  Date: 2025-09-26
  Decision: (see file)
  References: ADR-0008, ADR-0009, ADR-0012, ADR-0018

### Draft ADRs

- **Example Policy** _Draft_
  `/config/hestia/library/docs/ADR/ADR-000x-template.md`
  Date: 2025-08-27
  Decision: (see file)
  References: ADR-000

- **Fallback local logging path for HA tooling (non-repo, cross-platform)** _Pending_
  `/config/hestia/library/docs/ADR/ADR-0017-fallback-local-logging.md`
  Date: 2025-09-25
  Decision: When the primary Home Assistant config mount (the operator's `root config` mount) is unavailable, tooling and scripts MUST write fallback logs to the operator's local directory: `/Users/evertappels/Pr...
  References: ADR-0008, ADR-0009, ADR-0016, ADR-0017

### Superseded ADRs

- **Canonical HA edit root & non-interactive SMB mount** _Superseded_
  `/config/hestia/library/docs/ADR/deprecated/ADR-0016-canonical-ha-smb-mount.md`
  Date: 2025-09-24
  Decision: (see file)
  References: ADR-0009, ADR-0010, ADR-0015, ADR-0016, ADR-0017, ADR-0023, ADR-0024

- **Four-Pillar Workspace Architecture** _Superseded_
  `/config/hestia/library/docs/ADR/deprecated/ADR-0012-workspace-folder-taxonomy.md`
  Date: 2025-09-19
  Decision: (see file)
  References: ADR-0008, ADR-0009, ADR-0010, ADR-0012, ADR-0016, ADR-0024

- **Workspace Shape (amended by ADR-0016)** _Superseded_
  `/config/hestia/library/docs/ADR/deprecated/ADR-0010-workspace-shape-and-autofs.md`
  Date: 2025-09-11
  Decision: 1) **Neutral macOS path (operator convenience only):** On macOS, the Home Assistant `config` share is mounted at **`/n/ha`** via **autofs** (direct map in `/etc/auto_master` referencing `/etc/auto_smb...
  References: ADR-0008, ADR-0009, ADR-0010, ADR-0011, ADR-0012, ADR-0013, ADR-0015, ADR-0016, ADR-0024
  Supersedes: ADR-0016
  Superseded by: ADR-0012, ADR-0015
