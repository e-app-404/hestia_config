---
# packages/recorder_sqlite.yaml
# Engine: SQLite (default). No MariaDB / Influx required.
# Effect: short retention, tight commit cadence, filtered domains.
recorder:
  auto_purge: true
  purge_keep_days: 7
  commit_interval: 30

  exclude:
    domains:
      - automation
      - camera
      - event
      - group
      - logbook
      - media_player
      - persistent_notification
      - recorder
      - update
      - updater
      - zone
    entity_globs:
      - sensor.sun*
      - sensor.time*
      - sensor.date*
      - sensor.*_uptime*
      - sensor.*_entity_list
      - sensor.*failover_summary
      - sensor.*_minutes_since_*
      - weather.*
      - binary_sensor.*day
      - sensor.room_configs_*
      - sensor.rooms_needing_cleaning
      - sensor.shared_plex_*
      - sensor.shared_tts_gate_registry
      - sensor.plex_tv_index_compat
      - sensor.plex_movie_index_compat
      - sensor.plex_recently_added
      - sensor.tts_gate_registry_status
      - sensor.plex_tv_index_count
      - sensor.plex_movie_index_count
      - sensor.appdaemon_health_*
      - sensor.appdaemon_test_*
      - sensor.room_configs_*
      - sensor.rooms_needing_cleaning
      - sensor.appdaemon_health_raw
      - sensor.appdaemon_test_raw
      - sensor.appdaemon_health_direct_test
    entities:
      - sensor.current_date_natural
      - sensor.current_date_description
      - sensor.current_time_legacy
      - sensor.current_time
      - sensor.schedule_status
      - sensor.disabled_device_entities
      - group.unavailable_entities
      - group.smartthings_entities
      - input_text.plex_tv_index
      - input_text.plex_movie_index
      - input_number.plex_tv_episode_count
      - input_number.plex_movie_count
      - sensor.room_configs_shared_registry
    event_types:
      - call_service

  include:
    domains:
      - binary_sensor
      - sensor
      - switch
      - light
