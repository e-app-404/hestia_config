# ═══════════════════════════════════════════════════════════════
# ▶ TEMPLATE SENSOR: Last Git Config Push ◀
# Tracks timestamp of last successful Git push to DSM
# Loader: !include_dir_merge_list from domain/templates/
# Tier: ζ  •  Domain: system  •  Created: 2025-07-28
# Tags: [git, sync, logs, diagnostics]
# ═══════════════════════════════════════════════════════════════
- sensor:
    - name: "Last Git Config Push"
      unique_id: "system_git_last_push"
      state: "{{ states('input_datetime.git_last_push_timestamp') or 'unknown' }}"
      attributes:
        source: "git_push_logger.sh"
        contract: "ha_config_sync"
        tier: "ζ"
        primary_source: "input_datetime.git_last_push_timestamp"
        fallback_behavior: "unknown_if_log_missing"
        decision_path: "latest_timestamp_from_input_datetime"
        last_updated: "{{ now().isoformat() }}"
